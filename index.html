<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>CES 2026 - Mobile & Video Sync</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Anton&family=Roboto:wght@900&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/ccapture.js@1.1.0/build/CCapture.all.min.js"></script>

    <style>
        body { 
            margin: 0; padding: 0; 
            background-color: #000; /* 手機端建議純黑，避免縮放留白 */
            display: flex; flex-direction: column; justify-content: center; align-items: center; 
            height: 100vh; overflow: hidden; 
        }
        
        /* 核心容器 */
        #marquee-container { 
            width: 720px; height: 720px; 
            background-color: black; 
            position: relative; overflow: hidden;
            display: flex; align-items: center;
            border: 1px solid #222;
            flex-shrink: 0; /* 防止被 flex 壓縮 */
        }
        
        /* 手機適配：當螢幕寬度小於 720px 時自動縮放 */
        @media (max-width: 720px) {
            #marquee-container {
                transform: scale(calc(100vw / 720));
                transform-origin: center center;
            }
        }

        .marquee-wrapper {
            display: flex; width: max-content; position: absolute;
            will-change: transform; transform: translateX(720px);
        }

        .marquee-text { 
            font-weight: bold; font-family: 'Anton', sans-serif; font-size: 150px;
            background: linear-gradient(to right, #FF585D, #9063CD, #71CC98, #EF426F, #69B3E7, #FF585D);
            background-size: 200% auto; -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            animation: rgb-flow 3s linear infinite; white-space: nowrap;
        }

        #footer-info {
            position: absolute; bottom: 40px; width: 100%; text-align: center;
            color: #777; font-family: 'Roboto', sans-serif; font-size: 20px;
            letter-spacing: 2px; text-transform: uppercase; border-top: 1px solid #222; padding-top: 20px;
        }

        /* 錄影按鈕：手機上會自動隱藏，避免遮擋 */
        #export-btn {
            position: fixed; bottom: 20px; padding: 12px 24px; 
            background: rgba(0, 122, 255, 0.8); color: white;
            border: none; border-radius: 50px; cursor: pointer; font-weight: bold;
            z-index: 100; backdrop-filter: blur(5px);
        }
        
        @media (max-height: 500px) { #export-btn { display: none; } } /* 橫向模式隱藏按鈕 */

        @keyframes fast-pass-scroll {
            from { transform: translateX(720px); }
            to { transform: translateX(-100%); } 
        }

        @keyframes rgb-flow { to { background-position: 200% center; } }
    </style>
</head>
<body>

    <div id="marquee-container">
        <div class="marquee-wrapper" id="marquee-wrapper">
            <div class="marquee-text">Welcome to CES 2026 @ ADATA | XPG</div>
        </div>
        <div id="footer-info">Venetian, Titian ballroom, Booth #2204</div>
    </div>

    <button id="export-btn">開始無損錄製 (6秒)</button>

    <script>
        const wrapper = document.getElementById('marquee-wrapper');
        const btn = document.getElementById('export-btn');
        const container = document.getElementById('marquee-container');

        const capturer = new CCapture({
            format: 'webm',
            framerate: 60,
            verbose: false
        });

        let isRecording = false;

        function animate() {
            requestAnimationFrame(animate);
            if (isRecording) {
                capturer.capture(container);
            }
        }
        animate();

        // 點擊容器也可以在手機上重播動畫
        container.onclick = () => {
            wrapper.style.animation = 'none';
            wrapper.offsetHeight;
            wrapper.style.animation = `fast-pass-scroll 5s linear 0.5s 1 forwards`;
        };

        btn.onclick = (e) => {
            e.stopPropagation();
            btn.disabled = true;
            btn.innerText = "錄製中...";
            
            isRecording = true;
            capturer.start();
            
            wrapper.style.animation = 'none';
            wrapper.offsetHeight;
            wrapper.style.animation = `fast-pass-scroll 5s linear 0.5s 1 forwards`;

            setTimeout(() => {
                isRecording = false;
                capturer.stop();
                capturer.save();
                btn.disabled = false;
                btn.innerText = "開始無損錄製 (6秒)";
            }, 6000);
        };
    </script>
</body>
</html>
